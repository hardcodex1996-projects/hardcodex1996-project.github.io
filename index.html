<html>
  <head><title>Coming soon!</title></head>
  <body><h1>Coming soon! Thank you for visiting my page.</h1></body>
  
  <p> Link resources </p>
  
  <ul>
    <li><a href="https://jakearchibald.com/2014/offline-cookbook">PWA</a></li>
    <li><a href=" https://web.dev/codelab-make-installable">PWA Add to Homescreen</a></li>
  </ul>
  
  <div style="display:none">
      const divInstall = document.getElementById("installContainer");
const butInstall = document.getElementById("butInstall");

/* Put code here */

/* Only register a service worker if it's supported */
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("/service-worker.js");
}

/**
 * Warn the page must be served over HTTPS
 * The `beforeinstallprompt` event won't fire if the page is served over HTTP.
 * Installability requires a service worker with a fetch event handler, and
 * if the page isn't served over HTTPS, the service worker won't load.
 */
if (window.location.protocol === "http:") {
  const requireHTTPS = document.getElementById("requireHTTPS");
  const link = requireHTTPS.querySelector("a");
  link.href = window.location.href.replace("http://", "https://");
  requireHTTPS.classList.remove("hidden");
}

window.addEventListener("beforeinstallprompt", event => {
  console.log("beforeinstall", "beforeinstallprompt", event);
  // Stash the event so it can be triggered later.
  window.deferredPrompt = event;
  // Remove the 'hidden' class from the install button container
  divInstall.classList.toggle("hidden", false);
  const promptEvent = window.deferredPrompt;
  if (!promptEvent) {
    debugger;
    // The deferred prompt isn't available.
    return;
  }
  // Show the install prompt.
  promptEvent.prompt();
  // Log the result
  promptEvent.userChoice.then(result => {
    console.log("test", "userChoice", result);
    debugger;
    // Reset the deferred prompt variable, since
    // prompt() can only be called once.
    // window.deferredPrompt = null;
    // Hide the install button.
    divInstall.classList.toggle("hidden", true);
  });
});

butInstall.addEventListener("click", () => {
  console.log("buttonclicked", "butInstall-clicked");
  const promptEvent = window.deferredPrompt;
  if (!promptEvent) {
    // The deferred prompt isn't available.
    return;
  }
  // Show the install prompt.
  promptEvent.prompt();
  // Log the result
  promptEvent.userChoice.then(result => {
    console.log("üëç", "userChoice", result);
    // Reset the deferred prompt variable, since
    // prompt() can only be called once.
    window.deferredPrompt = null;
    // Hide the install button.
    divInstall.classList.toggle("hidden", true);
  });
});

  </div>
  <div style="display:none">
    <!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hello!</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css" />
    <!-- Manifest -->
    <link rel="manifest" href="/manifest.json" />
  </head>
  <body>
    <h1>
      InstallableR
    </h1>

    <p id="requireHTTPS" class="hidden">
      <b>STOP!</b> This page <b>must</b> be served over HTTPS. Please
      <a>reload this page via HTTPS</a>.
    </p>

    <p>
      Make me installable, follow the
      <a
        href="https://web.dev/installable/discover-installable/codelab-make-installable"
        >instructions</a
      >
      here.
    </p>

    <!-- Install button, hidden by default -->
    <div id="installContainer" class="hidden">
      <button id="butInstall" type="button">
        Install
      </button>
    </div>

    <!-- import the webpage's javascript file -->
    <script src="/js/script.js" defer></script>

    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix -->
    <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
    <script src="/js/button.js"></script>
  </body>
</html>

  </div>
</html>
